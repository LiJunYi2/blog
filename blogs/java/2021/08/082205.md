---
title: è®¾è®¡æ¨¡å¼ä¹‹è£…é¥°å™¨æ¨¡å¼
date: 2021-08-22
sidebar: auto
categories:
 - java
tags:
 - è®¾è®¡æ¨¡å¼
 - ç»“æ„å‹æ¨¡å¼
---

## è£…é¥°å™¨æ¨¡å¼çš„å®šä¹‰ä¸ç‰¹ç‚¹âœ¨

**è£…é¥°å™¨ï¼ˆDecoratorï¼‰æ¨¡å¼çš„å®šä¹‰ï¼šæŒ‡åœ¨ä¸æ”¹å˜ç°æœ‰å¯¹è±¡ç»“æ„çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€åœ°ç»™è¯¥å¯¹è±¡å¢åŠ ä¸€äº›èŒè´£ï¼ˆå³å¢åŠ å…¶é¢å¤–åŠŸèƒ½ï¼‰çš„æ¨¡å¼ï¼Œå®ƒå±äºå¯¹è±¡ç»“æ„å‹æ¨¡å¼ã€‚**

## è£…é¥°å™¨æ¨¡å¼çš„ä¸»è¦ä¼˜ç‚¹ğŸ§¨
**è£…é¥°å™¨æ˜¯ç»§æ‰¿çš„æœ‰åŠ›è¡¥å……ï¼Œæ¯”ç»§æ‰¿çµæ´»ï¼Œåœ¨ä¸æ”¹å˜åŸæœ‰å¯¹è±¡çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€çš„ç»™ä¸€ä¸ªå¯¹è±¡æ‰©å±•åŠŸèƒ½ï¼Œå³æ’å³ç”¨**
**é€šè¿‡ä½¿ç”¨ä¸ç”¨è£…é¥°ç±»åŠè¿™äº›è£…é¥°ç±»çš„æ’åˆ—ç»„åˆï¼Œå¯ä»¥å®ç°ä¸åŒæ•ˆæœ**
**è£…é¥°å™¨æ¨¡å¼å®Œå…¨éµå®ˆå¼€é—­åŸåˆ™**

## è£…é¥°å™¨æ¨¡å¼çš„ä¸»è¦ç¼ºç‚¹ğŸ‹
**è£…é¥°å™¨æ¨¡å¼ä¼šå¢åŠ è®¸å¤šå­ç±»ï¼Œè¿‡åº¦ä½¿ç”¨ä¼šå¢åŠ ç¨‹åºå¾—å¤æ‚æ€§ã€‚**

## è£…é¥°å™¨æ¨¡å¼çš„ç»“æ„ä¸å®ç°ğŸ§¨

**é€šå¸¸æƒ…å†µä¸‹ï¼Œæ‰©å±•ä¸€ä¸ªç±»çš„åŠŸèƒ½ä¼šä½¿ç”¨ç»§æ‰¿æ–¹å¼æ¥å®ç°ã€‚ä½†ç»§æ‰¿å…·æœ‰é™æ€ç‰¹å¾ï¼Œè€¦åˆåº¦é«˜ï¼Œå¹¶ä¸”éšç€æ‰©å±•åŠŸèƒ½çš„å¢å¤šï¼Œå­ç±»ä¼šå¾ˆè†¨èƒ€ã€‚å¦‚æœä½¿ç”¨ç»„åˆå…³ç³»æ¥åˆ›å»ºä¸€ä¸ªåŒ…è£…å¯¹è±¡ï¼ˆå³è£…é¥°å¯¹è±¡ï¼‰æ¥åŒ…è£¹çœŸå®å¯¹è±¡ï¼Œå¹¶åœ¨ä¿æŒçœŸå®å¯¹è±¡çš„ç±»ç»“æ„ä¸å˜çš„å‰æä¸‹ï¼Œä¸ºå…¶æä¾›é¢å¤–çš„åŠŸèƒ½ï¼Œè¿™å°±æ˜¯è£…é¥°å™¨æ¨¡å¼çš„ç›®æ ‡ã€‚ä¸‹é¢æ¥åˆ†æå…¶åŸºæœ¬ç»“æ„å’Œå®ç°æ–¹æ³•ã€‚**

### æ¨¡å¼çš„ç»“æ„ğŸ‹

**è£…é¥°å™¨æ¨¡å¼ä¸»è¦åŒ…å«ä»¥ä¸‹è§’è‰²ã€‚**

1. **æŠ½è±¡æ„ä»¶ï¼ˆComponentï¼‰è§’è‰²ï¼šå®šä¹‰ä¸€ä¸ªæŠ½è±¡æ¥å£ä»¥è§„èŒƒå‡†å¤‡æ¥æ”¶é™„åŠ è´£ä»»çš„å¯¹è±¡ã€‚**
2. **å…·ä½“æ„ä»¶ï¼ˆConcreteComponentï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡æ„ä»¶ï¼Œé€šè¿‡è£…é¥°è§’è‰²ä¸ºå…¶æ·»åŠ ä¸€äº›èŒè´£ã€‚**
3. **æŠ½è±¡è£…é¥°ï¼ˆDecoratorï¼‰è§’è‰²ï¼šç»§æ‰¿æŠ½è±¡æ„ä»¶ï¼Œå¹¶åŒ…å«å…·ä½“æ„ä»¶çš„å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡å…¶å­ç±»æ‰©å±•å…·ä½“æ„ä»¶çš„åŠŸèƒ½ã€‚**
4. **å…·ä½“è£…é¥°ï¼ˆConcreteDecoratorï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡è£…é¥°çš„ç›¸å…³æ–¹æ³•ï¼Œå¹¶ç»™å…·ä½“æ„ä»¶å¯¹è±¡æ·»åŠ é™„åŠ çš„è´£ä»»ã€‚**

## è£…é¥°å™¨æ¨¡å¼çš„åº”ç”¨åœºæ™¯ğŸ‹

**è£…é¥°å™¨æ¨¡å¼é€šå¸¸åœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µä½¿ç”¨ã€‚**

- **å½“éœ€è¦ç»™ä¸€ä¸ªç°æœ‰ç±»æ·»åŠ é™„åŠ èŒè´£ï¼Œè€Œåˆä¸èƒ½é‡‡ç”¨ç”Ÿæˆå­ç±»çš„æ–¹æ³•è¿›è¡Œæ‰©å……æ—¶ã€‚ä¾‹å¦‚ï¼Œè¯¥ç±»è¢«éšè—æˆ–è€…è¯¥ç±»æ˜¯ç»ˆæç±»æˆ–è€…é‡‡ç”¨ç»§æ‰¿æ–¹å¼ä¼šäº§ç”Ÿå¤§é‡çš„å­ç±»ã€‚**
- **å½“éœ€è¦é€šè¿‡å¯¹ç°æœ‰çš„ä¸€ç»„åŸºæœ¬åŠŸèƒ½è¿›è¡Œæ’åˆ—ç»„åˆè€Œäº§ç”Ÿéå¸¸å¤šçš„åŠŸèƒ½æ—¶ï¼Œé‡‡ç”¨ç»§æ‰¿å…³ç³»å¾ˆéš¾å®ç°ï¼Œè€Œé‡‡ç”¨è£…é¥°å™¨æ¨¡å¼å´å¾ˆå¥½å®ç°ã€‚**
- **å½“å¯¹è±¡çš„åŠŸèƒ½è¦æ±‚å¯ä»¥åŠ¨æ€åœ°æ·»åŠ ï¼Œä¹Ÿå¯ä»¥å†åŠ¨æ€åœ°æ’¤é”€æ—¶ã€‚**

**è£…é¥°å™¨æ¨¡å¼åœ¨ [Java] è¯­è¨€ä¸­çš„æœ€è‘—åçš„åº”ç”¨è«è¿‡äº Java I/O æ ‡å‡†åº“çš„è®¾è®¡äº†ã€‚ä¾‹å¦‚ï¼ŒInputStream çš„å­ç±» FilterInputStreamï¼ŒOutputStream çš„å­ç±» FilterOutputStreamï¼ŒReader çš„å­ç±» BufferedReader ä»¥åŠ FilterReaderï¼Œè¿˜æœ‰ Writer çš„å­ç±» BufferedWriterã€FilterWriter ä»¥åŠ PrintWriter ç­‰ï¼Œå®ƒä»¬éƒ½æ˜¯æŠ½è±¡è£…é¥°ç±»ã€‚**

## ä»£ç å®ç°ğŸŸ

### 1ã€æŠ½è±¡æ„ä»¶
```java
/**
 * @version 1.0.0
 * @className: Component
 * @description: æŠ½è±¡æ„ä»¶è§’è‰²
 * @author: LiJunYi
 * @create: 2021/5/28 11:25
 */
public interface Component
{
    /**
     * æ“ä½œ
     */
    void operation();
}
```

### 2ã€å…·ä½“æ„ä»¶
```java
/**
 * @version 1.0.0
 * @className: ConcreteComponent
 * @description: å…·ä½“æ„ä»¶è§’è‰²
 * @author: LiJunYi
 * @create: 2021/5/28 11:26
 */
public class ConcreteComponent implements Component
{
    public ConcreteComponent() {
        System.out.println("åˆ›å»ºå…·ä½“æ„ä»¶è§’è‰²");
    }

    @Override
    public void operation() {
        System.out.println("è°ƒç”¨å…·ä½“æ„ä»¶è§’è‰²çš„æ–¹æ³•operation()");
    }
}
```
### 3ã€æŠ½è±¡è£…é¥°
```java
/**
 * @version 1.0.0
 * @className: Decorator
 * @description: æŠ½è±¡è£…é¥°è§’è‰²
 * @author: LiJunYi
 * @create: 2021/5/28 11:27
 */
public class Decorator implements Component
{
    private Component component;

    public Decorator(Component component) {
        this.component = component;
    }

    @Override
    public void operation() {
        component.operation();
    }
}
```
### 4ã€å…·ä½“è£…é¥°
```Java
/**
 * @version 1.0.0
 * @className: ConcreteDecorator
 * @description: å…·ä½“è£…é¥°è§’è‰²
 * @author: LiJunYi
 * @create: 2021/5/28 11:28
 */
public class ConcreteDecorator extends Decorator
{

    public ConcreteDecorator(Component component) {
        super(component);
    }

    @Override
    public void operation() {
        super.operation();
        addedFunction();
    }

    public void addedFunction() {
        System.out.println("ä¸ºå…·ä½“æ„ä»¶è§’è‰²å¢åŠ é¢å¤–çš„åŠŸèƒ½addedFunction()");
    }
}
```
### 5ã€æµ‹è¯•ç±»
```java
/**
 * @version 1.0.0
 * @className: DecoratorPattern
 * @description:
 * @author: LiJunYi
 * @create: 2021/5/28 11:29
 */
public class DecoratorPattern
{
    public static void main(String[] args)
    {
        Component p = new ConcreteComponent();
        p.operation();
        System.out.println("---------------------------------");
        Component d = new ConcreteDecorator(p);
        d.operation();
    }
}

```

