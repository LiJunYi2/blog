---
title: è®¾è®¡æ¨¡å¼ä¹‹è¿­ä»£å™¨æ¨¡å¼
date: 2021-08-25
sidebar: auto
categories:
 - java
tags:
 - è®¾è®¡æ¨¡å¼
 - è¡Œä¸ºå‹æ¨¡å¼
---

## è¿­ä»£å™¨æ¨¡å¼çš„å®šä¹‰ä¸ç‰¹ç‚¹âœ¨

**è¿­ä»£å™¨ï¼ˆIteratorï¼‰æ¨¡å¼çš„å®šä¹‰ï¼šæä¾›ä¸€ä¸ªå¯¹è±¡æ¥é¡ºåºè®¿é—®èšåˆå¯¹è±¡ä¸­çš„ä¸€ç³»åˆ—æ•°æ®ï¼Œè€Œä¸æš´éœ²èšåˆå¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚è¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§å¯¹è±¡è¡Œä¸ºå‹æ¨¡å¼.**

```markdown
# å…¶ä¸»è¦ä¼˜ç‚¹å¦‚ä¸‹ã€‚

1. è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— é¡»æš´éœ²å®ƒçš„å†…éƒ¨è¡¨ç¤ºã€‚
2. éå†ä»»åŠ¡äº¤ç”±è¿­ä»£å™¨å®Œæˆï¼Œè¿™ç®€åŒ–äº†èšåˆç±»ã€‚
3. å®ƒæ”¯æŒä»¥ä¸åŒæ–¹å¼éå†ä¸€ä¸ªèšåˆï¼Œç”šè‡³å¯ä»¥è‡ªå®šä¹‰è¿­ä»£å™¨çš„å­ç±»ä»¥æ”¯æŒæ–°çš„éå†ã€‚
4. å¢åŠ æ–°çš„èšåˆç±»å’Œè¿­ä»£å™¨ç±»éƒ½å¾ˆæ–¹ä¾¿ï¼Œæ— é¡»ä¿®æ”¹åŸæœ‰ä»£ç ã€‚
5. å°è£…æ€§è‰¯å¥½ï¼Œä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ã€‚


# å…¶ä¸»è¦ç¼ºç‚¹æ˜¯ï¼šå¢åŠ äº†ç±»çš„ä¸ªæ•°ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚

åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å‡ ä¹ä¸ä¼šè‡ªå·±å†™è¿­ä»£å™¨ã€‚é™¤ééœ€è¦å®šåˆ¶ä¸€ä¸ªè‡ªå·±å®ç°çš„æ•°æ®ç»“æ„å¯¹åº”çš„è¿­ä»£å™¨ï¼Œå¦åˆ™ï¼Œå¼€æºæ¡†æ¶æä¾›çš„ API å®Œå…¨å¤Ÿç”¨ã€‚
```

## è¿­ä»£å™¨æ¨¡å¼çš„ç»“æ„ä¸å®ç°ğŸ

è¿­ä»£å™¨æ¨¡å¼æ˜¯é€šè¿‡å°†èšåˆå¯¹è±¡çš„éå†è¡Œä¸ºåˆ†ç¦»å‡ºæ¥ï¼ŒæŠ½è±¡æˆè¿­ä»£å™¨ç±»æ¥å®ç°çš„ï¼Œå…¶ç›®çš„æ˜¯åœ¨ä¸æš´éœ²èšåˆå¯¹è±¡çš„å†…éƒ¨ç»“æ„çš„æƒ…å†µä¸‹ï¼Œè®©å¤–éƒ¨ä»£ç é€æ˜åœ°è®¿é—®èšåˆçš„å†…éƒ¨æ•°æ®ã€‚ç°åœ¨æˆ‘ä»¬æ¥åˆ†æå…¶åŸºæœ¬ç»“æ„ä¸å®ç°æ–¹æ³•ã€‚

## è¿­ä»£å™¨æ¨¡å¼çš„ç»“æ„ğŸ‹

**è¿­ä»£å™¨æ¨¡å¼ä¸»è¦åŒ…å«ä»¥ä¸‹è§’è‰²ã€‚**

1. æŠ½è±¡èšåˆï¼ˆAggregateï¼‰è§’è‰²ï¼šå®šä¹‰å­˜å‚¨ã€æ·»åŠ ã€åˆ é™¤èšåˆå¯¹è±¡ä»¥åŠåˆ›å»ºè¿­ä»£å™¨å¯¹è±¡çš„æ¥å£ã€‚
2. å…·ä½“èšåˆï¼ˆConcreteAggregateï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡èšåˆç±»ï¼Œè¿”å›ä¸€ä¸ªå…·ä½“è¿­ä»£å™¨çš„å®ä¾‹ã€‚
3. æŠ½è±¡è¿­ä»£å™¨ï¼ˆIteratorï¼‰è§’è‰²ï¼šå®šä¹‰è®¿é—®å’Œéå†èšåˆå…ƒç´ çš„æ¥å£ï¼Œé€šå¸¸åŒ…å« hasNext()ã€first()ã€next() ç­‰æ–¹æ³•ã€‚
4. å…·ä½“è¿­ä»£å™¨ï¼ˆConcretelteratorï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡è¿­ä»£å™¨æ¥å£ä¸­æ‰€å®šä¹‰çš„æ–¹æ³•ï¼Œå®Œæˆå¯¹èšåˆå¯¹è±¡çš„éå†ï¼Œè®°å½•éå†çš„å½“å‰ä½ç½®ã€‚

## ä»£ç æ•ˆæœğŸŸ

### 1ã€æŠ½è±¡èšåˆ

```java
/**
 * @version 1.0.0
 * @className: Aggregate
 * @description: æŠ½è±¡èšåˆ
 * @author: LiJunYi
 * @create: 2021/5/31 16:20
 */
public interface Aggregate
{
    /**
     * æ·»åŠ 
     *
     * @param obj obj
     */
    public void add(Object obj);

    /**
     * åˆ é™¤
     *
     * @param obj obj
     */
    public void remove(Object obj);

    /**
     * å¾—åˆ°è¿­ä»£å™¨
     *
     * @return {@link Iterator}
     */
    public Iterator getIterator();
}
```

### 2ã€å…·ä½“èšåˆ

```java
/**
 * @version 1.0.0
 * @className: ConcreteAggregate
 * @description: å…·ä½“èšåˆ
 * @author: LiJunYi
 * @create: 2021/5/31 16:22
 */
public class ConcreteAggregate implements  Aggregate
{
    private List<Object> list = new ArrayList<>();

    @Override
    public void add(Object obj) {
        list.add(obj);
    }

    @Override
    public void remove(Object obj) {
        list.remove(obj);
    }

    @Override
    public Iterator getIterator() {
        return (new ConcreteIterator(list));
    }
}
```

### 3ã€æŠ½è±¡è¿­ä»£å™¨

```java
/**
 * Iterator æ¥å£æè¿°
 *
 * @version 1.0.0
 * @Description: æŠ½è±¡è¿­ä»£å™¨
 * @author: LiJunYi
 * @create: 2021/5/31 16:21
 */
public interface Iterator
{
    /**
     * ç¬¬ä¸€ä¸ª
     *
     * @return {@link Object}
     */
    Object first();

    /**
     * ä¸‹ä¸€ä¸ª
     *
     * @return {@link Object}
     */
    Object next();

    /**
     * æœ‰ä¸‹ä¸€ä¸ª
     *
     * @return boolean
     */
    boolean hasNext();
}
```

### 4ã€å…·ä½“è¿­ä»£å™¨

```java
/**
 * @version 1.0.0
 * @className: ConcreteIterator
 * @description: å…·ä½“è¿­ä»£å™¨
 * @author: LiJunYi
 * @create: 2021/5/31 16:22
 */
public class ConcreteIterator implements Iterator
{
    private List<Object> list = null;
    private int index = -1;

    public ConcreteIterator(List<Object> list) {
        this.list = list;
    }

    @Override
    public Object first() {
        index = 0;
        Object obj = list.get(index);
        return obj;
    }

    @Override
    public Object next() {
        Object obj = null;
        if (this.hasNext()) {
            obj = list.get(++index);
        }
        return obj;
    }

    @Override
    public boolean hasNext() {
        if (index < list.size() - 1) {
            return true;
        } else {
            return false;
        }
    }
}
```

### 5ã€è¿­ä»£å™¨æµ‹è¯•ç±»

```java
/**
 * @version 1.0.0
 * @className: IteratorPattern
 * @description: è¿­ä»£å™¨æ¨¡å¼æµ‹è¯•
 * @author: LiJunYi
 * @create: 2021/5/31 16:24
 */
public class IteratorPattern
{
    public static void main(String[] args) {
        Aggregate ag = new ConcreteAggregate();
        ag.add("ä¸­å±±å¤§å­¦");
        ag.add("åå—ç†å·¥");
        ag.add("éŸ¶å…³å­¦é™¢");
        System.out.print("èšåˆçš„å†…å®¹æœ‰ï¼š");
        Iterator it = ag.getIterator();
        while (it.hasNext()) {
            Object ob = it.next();
            System.out.print(ob.toString() + "\t");
        }
        Object ob = it.first();
        System.out.println("\nFirstï¼š" + ob.toString());
    }
}
```
