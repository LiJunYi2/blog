---
title: è®¾è®¡æ¨¡å¼ä¹‹åŸå‹æ¨¡å¼
date: 2021-08-24
sidebar: auto
categories:
 - java
tags:
 - è®¾è®¡æ¨¡å¼
 - åˆ›å»ºå‹æ¨¡å¼
---

## åŸå‹æ¨¡å¼çš„å®šä¹‰ä¸ç‰¹ç‚¹âœ¨

**åŸå‹ï¼ˆPrototypeï¼‰æ¨¡å¼çš„å®šä¹‰å¦‚ä¸‹ï¼šç”¨ä¸€ä¸ªå·²ç»åˆ›å»ºçš„å®ä¾‹ä½œä¸ºåŸå‹ï¼Œé€šè¿‡å¤åˆ¶è¯¥åŸå‹å¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªå’ŒåŸå‹ç›¸åŒæˆ–ç›¸ä¼¼çš„æ–°å¯¹è±¡**

**éœ€è¦å®ç°Cloneable å¯ä»¥é€‰æ‹©é‡å†™clone()æ–¹æ³•ã€‚cloneåˆ†ä¸ºæµ…å…‹éš†å’Œæ·±å…‹éš†ã€‚æµ…å…‹éš†åªæ˜¯å…‹éš†å¼•ç”¨ï¼Œå¯¹è±¡è¿˜æ˜¯ä¸€ä¸ªã€‚æ·±å…‹éš†æ˜¯å¯¹è±¡ä¹Ÿæ–°åˆ›å»ºäº†ä¸€ä¸ª**

## åŸå‹æ¨¡å¼çš„å…‹éš†åˆ†ä¸ºæµ…å…‹éš†å’Œæ·±å…‹éš†ğŸ§¨

**æµ…å…‹éš†ï¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæ–°å¯¹è±¡çš„å±æ€§å’ŒåŸæ¥å¯¹è±¡å®Œå…¨ç›¸åŒï¼Œå¯¹äºéåŸºæœ¬ç±»å‹å±æ€§ï¼Œä»æŒ‡å‘åŸæœ‰å±æ€§æ‰€æŒ‡å‘çš„å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚**

**æ·±å…‹éš†ï¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå±æ€§ä¸­å¼•ç”¨çš„å…¶ä»–å¯¹è±¡ä¹Ÿä¼šè¢«å…‹éš†ï¼Œä¸å†æŒ‡å‘åŸæœ‰å¯¹è±¡åœ°å€ã€‚**

## åŸå‹æ¨¡å¼çš„ä¼˜ç‚¹ğŸ‹

1. Java è‡ªå¸¦çš„åŸå‹æ¨¡å¼åŸºäºå†…å­˜äºŒè¿›åˆ¶æµçš„å¤åˆ¶ï¼Œåœ¨æ€§èƒ½ä¸Šæ¯”ç›´æ¥ new ä¸€ä¸ªå¯¹è±¡æ›´åŠ ä¼˜è‰¯ã€‚
2. å¯ä»¥ä½¿ç”¨æ·±å…‹éš†æ–¹å¼ä¿å­˜å¯¹è±¡çš„çŠ¶æ€ï¼Œä½¿ç”¨åŸå‹æ¨¡å¼å°†å¯¹è±¡å¤åˆ¶ä¸€ä»½ï¼Œå¹¶å°†å…¶çŠ¶æ€ä¿å­˜èµ·æ¥ï¼Œç®€åŒ–äº†åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ï¼Œä»¥ä¾¿åœ¨éœ€è¦çš„æ—¶å€™ä½¿ç”¨ï¼ˆä¾‹å¦‚æ¢å¤åˆ°å†å²æŸä¸€çŠ¶æ€ï¼‰ï¼Œå¯è¾…åŠ©å®ç°æ’¤é”€æ“ä½œã€‚

## åŸå‹æ¨¡å¼çš„ç¼ºç‚¹ğŸ‹

1. éœ€è¦ä¸ºæ¯ä¸€ä¸ªç±»éƒ½é…ç½®ä¸€ä¸ª clone æ–¹æ³•ã€‚
2. clone æ–¹æ³•ä½äºç±»çš„å†…éƒ¨ï¼Œå½“å¯¹å·²æœ‰ç±»è¿›è¡Œæ”¹é€ çš„æ—¶å€™ï¼Œéœ€è¦ä¿®æ”¹ä»£ç ï¼Œè¿èƒŒäº†å¼€é—­åŸåˆ™ã€‚
   å½“å®ç°æ·±å…‹éš†æ—¶ï¼Œéœ€è¦ç¼–å†™è¾ƒä¸ºå¤æ‚çš„ä»£ç ï¼Œè€Œä¸”å½“å¯¹è±¡ä¹‹é—´å­˜åœ¨å¤šé‡åµŒå¥—å¼•ç”¨æ—¶ï¼Œä¸ºäº†å®ç°æ·±å…‹éš†ï¼Œæ¯ä¸€å±‚å¯¹è±¡å¯¹åº”çš„ç±»éƒ½å¿…é¡»æ”¯æŒæ·±å…‹éš†ï¼Œå®ç°èµ·æ¥ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚å› æ­¤ï¼Œæ·±å…‹éš†ã€æµ…å…‹éš†éœ€è¦è¿ç”¨å¾—å½“ã€‚

## åŸå‹æ¨¡å¼çš„åº”ç”¨åœºæ™¯

åŸå‹æ¨¡å¼é€šå¸¸é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ã€‚

- å¯¹è±¡ä¹‹é—´ç›¸åŒæˆ–ç›¸ä¼¼ï¼Œå³åªæ˜¯ä¸ªåˆ«çš„å‡ ä¸ªå±æ€§ä¸åŒçš„æ—¶å€™ã€‚
- åˆ›å»ºå¯¹è±¡æˆæœ¬è¾ƒå¤§ï¼Œä¾‹å¦‚åˆå§‹åŒ–æ—¶é—´é•¿ï¼Œå ç”¨CPUå¤ªå¤šï¼Œæˆ–è€…å ç”¨ç½‘ç»œèµ„æºå¤ªå¤šç­‰ï¼Œéœ€è¦ä¼˜åŒ–èµ„æºã€‚
- åˆ›å»ºä¸€ä¸ªå¯¹è±¡éœ€è¦ç¹ççš„æ•°æ®å‡†å¤‡æˆ–è®¿é—®æƒé™ç­‰ï¼Œéœ€è¦æé«˜æ€§èƒ½æˆ–è€…æé«˜å®‰å…¨æ€§ã€‚
- ç³»ç»Ÿä¸­å¤§é‡ä½¿ç”¨è¯¥ç±»å¯¹è±¡ï¼Œä¸”å„ä¸ªè°ƒç”¨è€…éƒ½éœ€è¦ç»™å®ƒçš„å±æ€§é‡æ–°èµ‹å€¼ã€‚

> **åœ¨ [Spring](https://spring.io/) ä¸­ï¼ŒåŸå‹æ¨¡å¼åº”ç”¨çš„éå¸¸å¹¿æ³›ï¼Œä¾‹å¦‚ scope='prototype'ã€JSON.parseObject() ç­‰éƒ½æ˜¯åŸå‹æ¨¡å¼çš„å…·ä½“åº”ç”¨ã€‚**

## **ä»£ç å®ç°ğŸŸ**

```java
/**
 * @version 1.0.0
 * @className: Prototype
 * @description: åŸå‹æ¨¡å¼
 * @author: LiJunYi
 * @create: 2021/5/27 15:18
 */
@Data
@Builder
public class Prototype implements Cloneable
{
    private String name;
    private int age;

    @Override
    protected Prototype clone() throws CloneNotSupportedException {
        return new Prototype(this.name,this.age);
    }
    public static void main(String[] args) throws CloneNotSupportedException {
        Prototype obj1  = new Prototype("åŸå‹å¤åˆ¶æˆåŠŸ",25);
        Prototype obj2  = obj1.clone();
        obj1.setAge(18);
        System.out.println(obj2.getAge());
    }
}
```

