---
title: JAVA8æ–°ç‰¹æ€§é›†
date: 2022-02-22
sidebar: auto
categories:
 - java
tags:
 - JAVA8
---

## JAVA8æ–°ç‰¹æ€§é›†ğŸ§¨

### StreamæµğŸ‡

**filterä½¿ç”¨**

```java
// Streamæµçš„filterä½¿ç”¨
// æ–¹æ³•ç”¨äºé€šè¿‡è®¾ç½®çš„æ¡ä»¶è¿‡æ»¤å‡ºå…ƒç´ ã€‚
// ç¤ºä¾‹äºŒï¼šé€šè¿‡ä¸ findAny å¾—åˆ° if/else çš„å€¼

List<String> list = Arrays.asList("å¼ ä¸‰", "æå››", "ç‹äº”");
String result3 = list.stream().filter(str -> "æå››".equals(str)).findAny().orElse("æ‰¾ä¸åˆ°!");
String result4 = list.stream().filter(str -> "æäºŒ".equals(str)).findAny().orElse("æ‰¾ä¸åˆ°!");

System.out.println("stream è¿‡æ»¤ä¹‹å 2:" + result3);
System.out.println("stream è¿‡æ»¤ä¹‹å 3:" + result4);
//stream è¿‡æ»¤ä¹‹å 2:æå››
//stream è¿‡æ»¤ä¹‹å 3:æ‰¾ä¸åˆ°!

// ç¤ºä¾‹ä¸‰ï¼šé€šè¿‡ä¸ mapToInt è®¡ç®—å’Œ
List<User> lists = new ArrayList<User>();
lists.add(new User(6, "å¼ ä¸‰"));
lists.add(new User(2, "æå››"));
lists.add(new User(3, "ç‹äº”"));
lists.add(new User(1, "å¼ ä¸‰"));
// è®¡ç®—è¿™ä¸ªlistä¸­å‡ºç° "å¼ ä¸‰" idçš„å€¼
int sum = lists.stream().filter(u -> "å¼ ä¸‰".equals(u.getName())).mapToInt(u -> u.getId()).sum();
System.out.println("è®¡ç®—ç»“æœ:" + sum); 
```

**flatMapä½¿ç”¨**

```java
// Streamæµçš„flatMapä½¿ç”¨
// flatMap æ–¹æ³•ç”¨äºæ˜ å°„æ¯ä¸ªå…ƒç´ åˆ°å¯¹åº”çš„ç»“æœï¼Œä¸€å¯¹å¤š


String worlds = "The way of the future";
List<String> list7 = new ArrayList<>();
list7.add(worlds);
List<String> list8 = list7.stream().flatMap(str -> Stream.of(str.split(" ")))
   .filter(world -> world.length() > 0).collect(Collectors.toList());
System.out.println("å•è¯:");
list8.forEach(System.out::println);
 // å•è¯:
 // The 
 // way 
 // of 
 // the 
 // future
```

**limitä½¿ç”¨**

```java
//ç¤ºä¾‹ä¸€ï¼šè·å–å‰næ¡æ•°çš„æ•°æ®
Random rd = new Random();
System.out.println("å–åˆ°çš„å‰ä¸‰æ¡æ•°æ®:");
rd.ints().limit(3).forEach(System.out::println);
// å–åˆ°çš„å‰ä¸‰æ¡æ•°æ®:
// 1167267754
// -1164558977
// 1977868798

// ç¤ºä¾‹äºŒï¼šç»“åˆskipä½¿ç”¨å¾—åˆ°éœ€è¦çš„æ•°æ®:skipè¡¨ç¤ºçš„æ˜¯æ‰”æ‰å‰nä¸ªå…ƒç´ 
List<User> list9 = new ArrayList<User>();
 for (int i = 1; i < 4; i++) {
  User user = new User(i, "pancm" + i);
  list9.add(user);
 }
System.out.println("æˆªå–ä¹‹å‰çš„æ•°æ®:");
// å–å‰3æ¡æ•°æ®ï¼Œä½†æ˜¯æ‰”æ‰äº†å‰é¢çš„2æ¡ï¼Œå¯ä»¥ç†è§£ä¸ºæ‹¿åˆ°çš„æ•°æ®ä¸º 2<=i<3 (i æ˜¯æ•°å€¼ä¸‹æ ‡)
List<String> list10 = list9.stream().map(User::getName).limit(3).skip(2).collect(Collectors.toList());
 System.out.println("æˆªå–ä¹‹åçš„æ•°æ®:" + list10);
//  æˆªå–ä¹‹å‰çš„æ•°æ®:
//  å§“å:pancm1
//  å§“å:pancm2
//  å§“å:pancm3
//  æˆªå–ä¹‹åçš„æ•°æ®:[pancm3]
```

**sortä½¿ç”¨**

sortedæ–¹æ³•ç”¨äºå¯¹æµè¿›è¡Œå‡åºæ’åº

```java
// ç¤ºä¾‹ä¸€ï¼šéšæœºå–å€¼æ’åº
Random rd2 = new Random();
System.out.println("å–åˆ°çš„å‰ä¸‰æ¡æ•°æ®ç„¶åè¿›è¡Œæ’åº:");
rd2.ints().limit(3).sorted().forEach(System.out::println);
// å–åˆ°çš„å‰ä¸‰æ¡æ•°æ®ç„¶åè¿›è¡Œæ’åº:
// -2043456377
// -1778595703
// 1013369565

// ç¤ºä¾‹äºŒï¼šä¼˜åŒ–æ’åº  tips:å…ˆè·å–åœ¨æ’åºæ•ˆç‡ä¼šæ›´é«˜!

//æ™®é€šçš„æ’åºå–å€¼
List<User> list11 = list9.stream().sorted((u1, u2) -> u1.getName().compareTo(u2.getName())).limit(3)
   .collect(Collectors.toList());
System.out.println("æ’åºä¹‹åçš„æ•°æ®:" + list11);

//ä¼˜åŒ–æ’åºå–å€¼
List<User> list12 = list9.stream().limit(3).sorted((u1, u2) -> u1.getName().compareTo(u2.getName()))
   .collect(Collectors.toList());
System.out.println("ä¼˜åŒ–æ’åºä¹‹åçš„æ•°æ®:" + list12);
//æ’åºä¹‹åçš„æ•°æ®:[{"id":1,"name":"pancm1"}, {"id":2,"name":"pancm2"}, {"id":3,"name":"pancm3"}]
//ä¼˜åŒ–æ’åºä¹‹åçš„æ•°æ®:[{"id":1,"name":"pancm1"}, {"id":2,"name":"pancm2"}, {"id":3,"name":"pancm3"}]
```

**peekä½¿ç”¨**

peekå¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ“ä½œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„Stream

```java
// ç¤ºä¾‹:åŒé‡æ“ä½œ
System.out.println("peekä½¿ç”¨:");
 Stream.of("one", "two", "three", "four").filter(e -> e.length() > 3).peek(e -> System.out.println("è½¬æ¢ä¹‹å‰: " + e)).map(String::toUpperCase).peek(e -> System.out.println("è½¬æ¢ä¹‹å: " + e)).collect(Collectors.toList());
 
 // è½¬æ¢ä¹‹å‰: three
 // è½¬æ¢ä¹‹å: THREE
 // è½¬æ¢ä¹‹å‰: four
 // è½¬æ¢ä¹‹å: FOUR
```

**max/min/distinctä½¿ç”¨**

```java
// ç¤ºä¾‹ä¸€ï¼šå¾—åˆ°æœ€å¤§æœ€å°å€¼
List<String> list13 = Arrays.asList("zhangsan","lisi","wangwu","xiwqjing");

int maxLines = list13.stream().mapToInt(String::length).max().getAsInt();
int minLines = list13.stream().mapToInt(String::length).min().getAsInt();
System.out.println("æœ€é•¿å­—ç¬¦çš„é•¿åº¦:" + maxLines+",æœ€çŸ­å­—ç¬¦çš„é•¿åº¦:"+minLines);
//æœ€é•¿å­—ç¬¦çš„é•¿åº¦:8,æœ€çŸ­å­—ç¬¦çš„é•¿åº¦:4

//ç¤ºä¾‹äºŒï¼šå¾—åˆ°å»é‡ä¹‹åçš„æ•°æ®
String lines = "good good study day day up";
List<String> list14 = new ArrayList<String>();
list14.add(lines);
List<String> words = list14.stream().flatMap(line -> Stream.of(line.split(" "))).filter(word -> word.length() > 0).map(String::toLowerCase).distinct().sorted().collect(Collectors.toList());
System.out.println("å»é‡å¤ä¹‹å:" + words);
//å»é‡å¤ä¹‹å:[day, good, study, up]
```

**Matchä½¿ç”¨**

- allMatchï¼šStream ä¸­å…¨éƒ¨å…ƒç´ ç¬¦åˆåˆ™è¿”å› true ;

- anyMatchï¼šStream ä¸­åªè¦æœ‰ä¸€ä¸ªå…ƒç´ ç¬¦åˆåˆ™è¿”å› true;

```java
boolean all = lists.stream().allMatch(u -> u.getId() > 3);
System.out.println("æ˜¯å¦éƒ½å¤§äº3:" + all);

boolean any = lists.stream().anyMatch(u -> u.getId() > 3);
System.out.println("æ˜¯å¦æœ‰ä¸€ä¸ªå¤§äº3:" + any);

boolean none = lists.stream().noneMatch(u -> u.getId() > 3);
System.out.println("æ˜¯å¦æ²¡æœ‰ä¸€ä¸ªå¤§äº3çš„:" + none);  

 // æ˜¯å¦éƒ½å¤§äº3:false
 // æ˜¯å¦æœ‰ä¸€ä¸ªå¤§äº3:true
 // æ˜¯å¦æ²¡æœ‰ä¸€ä¸ªå¤§äº3çš„:false
```

**reduceä½¿ç”¨**

reduce ä¸»è¦ä½œç”¨æ˜¯æŠŠ Stream å…ƒç´ ç»„åˆèµ·æ¥è¿›è¡Œæ“ä½œ

```java
// ç¤ºä¾‹ä¸€ï¼šå­—ç¬¦ä¸²è¿æ¥
String concat = Stream.of("A", "B", "C", "D").reduce("", String::concat);
System.out.println("å­—ç¬¦ä¸²æ‹¼æ¥:" + concat);

// ç¤ºä¾‹äºŒï¼šå¾—åˆ°æœ€å°å€¼
double minValue = Stream.of(-4.0, 1.0, 3.0, -2.0).reduce(Double.MAX_VALUE, Double::min);
System.out.println("æœ€å°å€¼:" + minValue);
//æœ€å°å€¼:-4.0

// ç¤ºä¾‹ä¸‰ï¼šæ±‚å’Œ
// æ±‚å’Œ, æ— èµ·å§‹å€¼
int sumValue = Stream.of(1, 2, 3, 4).reduce(Integer::sum).get();
System.out.println("æœ‰æ— èµ·å§‹å€¼æ±‚å’Œ:" + sumValue);

// æ±‚å’Œ, æœ‰èµ·å§‹å€¼
sumValue = Stream.of(1, 2, 3, 4).reduce(1, Integer::sum);
System.out.println("æœ‰èµ·å§‹å€¼æ±‚å’Œ:" + sumValue);
// æœ‰æ— èµ·å§‹å€¼æ±‚å’Œ:10
// æœ‰èµ·å§‹å€¼æ±‚å’Œ:11

//ç¤ºä¾‹å››ï¼šè¿‡æ»¤æ‹¼æ¥
concat = Stream.of("a", "B", "c", "D", "e", "F").filter(x -> x.compareTo("Z") > 0).reduce("", String::concat);
System.out.println("è¿‡æ»¤å’Œå­—ç¬¦ä¸²è¿æ¥:" + concat);
//è¿‡æ»¤å’Œå­—ç¬¦ä¸²è¿æ¥:ace
```

**groupingBy/partitioningByä½¿ç”¨**

- groupingByï¼šåˆ†ç»„æ’åº

- partitioningByï¼šåˆ†åŒºæ’åº

```java
// ç¤ºä¾‹ä¸€ï¼šåˆ†ç»„æ’åº
System.out.println("é€šè¿‡idè¿›è¡Œåˆ†ç»„æ’åº:");
 Map<Integer, List<User>> personGroups = Stream.generate(new UserSupplier2()).limit(5)
   .collect(Collectors.groupingBy(User::getId));
 Iterator it = personGroups.entrySet().iterator();
 while (it.hasNext()) {
  Map.Entry<Integer, List<User>> persons = (Map.Entry) it.next();
  System.out.println("id " + persons.getKey() + " = " + persons.getValue());
 }
 
 // é€šè¿‡idè¿›è¡Œåˆ†ç»„æ’åº:
 // id 10 = [{"id":10,"name":"pancm1"}] 
 // id 11 = [{"id":11,"name":"pancm3"}, {"id":11,"name":"pancm6"}, {"id":11,"name":"pancm4"}, {"id":11,"name":"pancm7"}]



 class UserSupplier2 implements Supplier<User> {
  private int index = 10;
  private Random random = new Random();
 
  @Override
  public User get() {
   return new User(index % 2 == 0 ? index++ : index, "pancm" + random.nextInt(10));
  }
   return new User(index % 2 == 0 ? index++ : index, "pancm" + random.nextInt(10));
 }


// ç¤ºä¾‹äºŒï¼šåˆ†åŒºæ’åº
System.out.println("é€šè¿‡å¹´é¾„è¿›è¡Œåˆ†åŒºæ’åº:");
 Map<Boolean, List<User>> children = Stream.generate(new UserSupplier3()).limit(5)
   .collect(Collectors.partitioningBy(p -> p.getId() < 18));

 System.out.println("å°å­©: " + children.get(true));
 System.out.println("æˆå¹´äºº: " + children.get(false));
 
 // é€šè¿‡å¹´é¾„è¿›è¡Œåˆ†åŒºæ’åº:
 // å°å­©: [{"id":16,"name":"pancm7"}, {"id":17,"name":"pancm2"}]
 // æˆå¹´äºº: [{"id":18,"name":"pancm4"}, {"id":19,"name":"pancm9"}, {"id":20,"name":"pancm6"}]

  class UserSupplier3 implements Supplier<User> {
  private int index = 16;
  private Random random = new Random();
 
  @Override
  public User get() {
   return new User(index++, "pancm" + random.nextInt(10));
  }
 }
```

**Stream æ ¹æ®å¯¹è±¡æŸä¸ªå±æ€§å»é‡**

```java
cgEndList = cgEndList.stream()
    .collect(Collectors.collectingAndThen(
                    Collectors.toCollection(() -> new TreeSet<>(Comparator.comparing(CgModel::getCgId))
                    ), ArrayList::new));
```

**è·å–IDæœ€å¤§çš„å¯¹è±¡**

```java
DyCgExpertDto maxExpertId = dyCgExpertDtos.stream()
        .max(Comparator.comparing(DyCgExpertDto::getId)).get();
```

**å¾ªç¯ä¸¤ä¸ªlistå¹¶è¿›è¡ŒåŒ¹é…ç»™å…¶ä¸­ä¸€ä¸ªlistå¯¹è±¡çš„æŸä¸ªå±æ€§èµ‹å€¼**

```java
 List<CgModel> cgs = cgList.stream()
                .map(cg -> nodeInfos.stream()
                            .filter(node -> cg.getDqjdId().equals(node.getNodeId()))
                            .findFirst()
                            .map(node -> {
                                cg.setNodeName(node.getNodeName());
                                return cg;
                            }).orElse(cg))
                .collect(Collectors.toList());
```

**åˆè®¡BigDecimalé‡‘é¢**

```java
BigDecimal totalMoney = fkdModelList.stream()
                    .map(FkdModel::getCountMoney)
                    .reduce(BigDecimal.ZERO,BigDecimal::add);
```

**äº¤é›†å·®é›†å¹¶é›†**

```java
public class Test {
 
    public static void main(String[] args) {
        List<String> list1 = new ArrayList<String>();
        list1.add("1");
		list1.add("2");
		list1.add("3");
		list1.add("5");
		list1.add("6");
 
        List<String> list2 = new ArrayList<String>();
        list2.add("2");
		list2.add("3");
		list2.add("7");
		list2.add("8");
 
        // äº¤é›†
        List<String> intersection = list1.stream().filter(item -> list2.contains(item)).collect(toList());
        System.out.println("---äº¤é›† intersection---");
        intersection.parallelStream().forEach(System.out :: println);
 
        // å·®é›† (list1 - list2)
        List<String> reduce1 = list1.stream().filter(item -> !list2.contains(item)).collect(toList());
        System.out.println("---å·®é›† reduce1 (list1 - list2)---");
        reduce1.parallelStream().forEach(System.out :: println);
 
        // å·®é›† (list2 - list1)
        List<String> reduce2 = list2.stream().filter(item -> !list1.contains(item)).collect(toList());
        System.out.println("---å·®é›† reduce2 (list2 - list1)---");
        reduce2.parallelStream().forEach(System.out :: println);
 
        // å¹¶é›†
        List<String> listAll = list1.parallelStream().collect(toList());
        List<String> listAll2 = list2.parallelStream().collect(toList());
        listAll.addAll(listAll2);
        System.out.println("---å¹¶é›† listAll---");
        listAll.parallelStream().forEachOrdered(System.out :: println);
 
        // å»é‡å¹¶é›†
        List<String> listAllDistinct = listAll.stream().distinct().collect(toList());
        System.out.println("---å¾—åˆ°å»é‡å¹¶é›† listAllDistinct---");
        listAllDistinct.parallelStream().forEachOrdered(System.out :: println);
 
        System.out.println("---åŸæ¥çš„List1---");
        list1.parallelStream().forEachOrdered(System.out :: println);
        System.out.println("---åŸæ¥çš„List2---");
        list2.parallelStream().forEachOrdered(System.out :: println);
 
    }
}
```



### LocalDateTimeğŸ¤”

å…¨æ–°çš„æ—¥æœŸæ—¶é—´APIã€‚åœ¨JDK1.8ä¹‹å‰ï¼ŒJavaå¤„ç†æ—¥æœŸã€æ—¥å†å’Œæ—¶é—´çš„æ–¹å¼ä¸€ç›´ä¸ºç¤¾åŒºæ‰€è¯Ÿç—…ï¼Œå°† java.util.Dateè®¾å®šä¸ºå¯å˜ç±»å‹ï¼Œä»¥åŠSimpleDateFormatçš„éçº¿ç¨‹å®‰å…¨ä½¿å…¶åº”ç”¨éå¸¸å—é™ã€‚å› æ­¤æ¨å‡ºäº†java.timeåŒ…ï¼Œè¯¥åŒ…ä¸‹çš„æ‰€æœ‰ç±»éƒ½æ˜¯ä¸å¯å˜ç±»å‹è€Œä¸”çº¿ç¨‹å®‰å…¨ã€‚

**å…³é”®ç±»**

- Instantï¼šç¬æ—¶æ—¶é—´ã€‚
- LocalDateï¼šæœ¬åœ°æ—¥æœŸï¼Œä¸åŒ…å«å…·ä½“æ—¶é—´, æ ¼å¼ yyyy-MM-ddã€‚

- LocalTimeï¼šæœ¬åœ°æ—¶é—´ï¼Œä¸åŒ…å«æ—¥æœŸ. æ ¼å¼ yyyy-MM-dd HH:mm:ss.SSS ã€‚
- LocalDateTimeï¼šç»„åˆäº†æ—¥æœŸå’Œæ—¶é—´ï¼Œä½†ä¸åŒ…å«æ—¶å·®å’Œæ—¶åŒºä¿¡æ¯ã€‚

- ZonedDateTimeï¼šæœ€å®Œæ•´çš„æ—¥æœŸæ—¶é—´ï¼ŒåŒ…å«æ—¶åŒºå’Œç›¸å¯¹UTCæˆ–æ ¼æ—å¨æ²»çš„æ—¶å·®ã€‚

**è·å–å½“å‰çš„å¹´æœˆæ—¥æ—¶åˆ†ç§’**

```java
  //è·å–å½“å‰çš„æ—¶é—´ï¼ŒåŒ…æ‹¬æ¯«ç§’
  LocalDateTime ldt = LocalDateTime.now();
  System.out.println("å½“å‰å¹´:"+ldt.getYear());  
  System.out.println("å½“å‰å¹´ä»½å¤©æ•°:"+ldt.getDayOfYear());
  System.out.println("å½“å‰æœˆ:"+ldt.getMonthValue());
  System.out.println("å½“å‰æ—¶:"+ldt.getHour());
  System.out.println("å½“å‰åˆ†:"+ldt.getMinute());
  System.out.println("å½“å‰æ—¶é—´:"+ldt.toString());
```

**æ ¼å¼åŒ–æ—¶é—´**

```java
LocalDateTime ldt = LocalDateTime.now();
System.out.println("æ ¼å¼åŒ–æ—¶é—´: "+ ldt.format(DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss.SSS")));
```

**æ—¶é—´å¢å‡**

```java
  LocalDateTime ldt = LocalDateTime.now();
  System.out.println("å5å¤©æ—¶é—´:"+ldt.plusDays(5));
  System.out.println("å‰5å¤©æ—¶é—´å¹¶æ ¼å¼åŒ–:"+ldt.minusDays(5).format(DateTimeFormatter.ofPattern("yyyy-MM-dd"))); 
  System.out.println("å‰ä¸€ä¸ªæœˆçš„æ—¶é—´:"+ldt2.minusMonths(1).format(DateTimeFormatter.ofPattern("yyyyMM"))); 
  System.out.println("åä¸€ä¸ªæœˆçš„æ—¶é—´:"+ldt2.plusMonths(1)); 
  System.out.println("æŒ‡å®š2099å¹´çš„å½“å‰æ—¶é—´:"+ldt.withYear(2099)); 
```

**åˆ›å»ºæŒ‡å®šæ—¶é—´**

```java
LocalDate ld3=LocalDate.of(2017, Month.NOVEMBER, 17);
LocalDate ld4=LocalDate.of(2018, 02, 11);
```

**æ—¶é—´ç›¸å·®æ¯”è¾ƒ**

```java
// ç¤ºä¾‹ä¸€: å…·ä½“ç›¸å·®çš„å¹´æœˆæ—¥
LocalDate ld=LocalDate.parse("2017-11-17");
LocalDate ld2=LocalDate.parse("2018-01-05");
Period p=Period.between(ld, ld2);
System.out.println("ç›¸å·®å¹´: "+p.getYears()+" ç›¸å·®æœˆ :"+p.getMonths() +" ç›¸å·®å¤©:"+p.getDays());
 // ç›¸å·®å¹´: 0 ç›¸å·®æœˆ :1 ç›¸å·®å¤©:19
// æ³¨:è¿™é‡Œçš„æœˆä»½æ˜¯ä¸æ»¡è¶³ä¸€å¹´ï¼Œå¤©æ•°æ˜¯ä¸æ»¡è¶³ä¸€ä¸ªæœˆçš„ã€‚è¿™é‡Œå®é™…ç›¸å·®çš„æ˜¯1æœˆ19å¤©ï¼Œä¹Ÿå°±æ˜¯49å¤©ã€‚

// ç¤ºä¾‹äºŒï¼šç›¸å·®æ€»æ•°çš„æ—¶é—´
LocalDate startDate = LocalDate.of(2017, 11, 17);
LocalDate endDate = LocalDate.of(2018, 01, 05);
System.out.println("ç›¸å·®æœˆä»½:"+ChronoUnit.MONTHS.between(startDate, endDate));
System.out.println("ä¸¤æœˆä¹‹é—´çš„ç›¸å·®çš„å¤©æ•°   : " + ChronoUnit.DAYS.between(startDate, endDate));
//        ç›¸å·®æœˆä»½:1
//        ä¸¤å¤©ä¹‹é—´çš„å·®åœ¨å¤©æ•°   : 49
// æ³¨:ChronoUnitä¹Ÿå¯ä»¥è®¡ç®—ç›¸å·®æ—¶åˆ†ç§’ã€‚ 


// ç¤ºä¾‹ä¸‰ï¼šç²¾åº¦æ—¶é—´ç›¸å·®
// Duration è¿™ä¸ªç±»ä»¥ç§’å’Œçº³ç§’ä¸ºå•ä½å»ºæ¨¡æ—¶é—´çš„æ•°é‡æˆ–æ•°é‡ã€‚
Instant inst1 = Instant.now();
System.out.println("å½“å‰æ—¶é—´æˆ³ : " + inst1);
Instant inst2 = inst1.plus(Duration.ofSeconds(10));
System.out.println("å¢åŠ ä¹‹åçš„æ—¶é—´ : " + inst2);
System.out.println("ç›¸å·®æ¯«ç§’ : " + Duration.between(inst1, inst2).toMillis());
System.out.println("ç›¸æ¯«ç§’ : " + Duration.between(inst1, inst2).getSeconds());


// ç¤ºä¾‹å››ï¼šæ—¶é—´å¤§å°æ¯”è¾ƒ
LocalDateTime ldt4 = LocalDateTime.now();
LocalDateTime ldt5 = ldt4.plusMinutes(10);
System.out.println("å½“å‰æ—¶é—´æ˜¯å¦å¤§äº:"+ldt4.isAfter(ldt5));
System.out.println("å½“å‰æ—¶é—´æ˜¯å¦å°äº"+ldt4.isBefore(ldt5));
// false
// true
```

**æ—¶åŒºæ—¶é—´è®¡ç®—**

```java
// ç¤ºä¾‹ä¸€:é€šè¿‡Clockæ—¶é’Ÿç±»è·å–è®¡ç®—
// Clockæ—¶é’Ÿç±»ç”¨äºè·å–å½“æ—¶çš„æ—¶é—´æˆ³ï¼Œæˆ–å½“å‰æ—¶åŒºä¸‹çš„æ—¥æœŸæ—¶é—´ä¿¡æ¯ã€‚

Clock clock = Clock.systemUTC();
System.out.println("å½“å‰æ—¶é—´æˆ³ : " + clock.millis()); 
Clock clock2 = Clock.system(ZoneId.of("Asia/Shanghai"));
System.out.println("äºšæ´²ä¸Šæµ·æ­¤æ—¶çš„æ—¶é—´æˆ³:"+clock2.millis());
Clock clock3 = Clock.system(ZoneId.of("America/New_York"));
System.out.println("ç¾å›½çº½çº¦æ­¤æ—¶çš„æ—¶é—´æˆ³:"+clock3.millis());
//  å½“å‰æ—¶é—´æˆ³ : 1545209277657
//  äºšæ´²ä¸Šæµ·æ­¤æ—¶çš„æ—¶é—´æˆ³:1545209277657
//  ç¾å›½çº½çº¦æ­¤æ—¶çš„æ—¶é—´æˆ³:1545209277658

// ç¤ºä¾‹äºŒ:é€šè¿‡ZonedDateTimeç±»å’ŒZoneId
ZoneId zoneId= ZoneId.of("America/New_York");
ZonedDateTime dateTime=ZonedDateTime.now(zoneId);
System.out.println("ç¾å›½çº½çº¦æ­¤æ—¶çš„æ—¶é—´ : " + dateTime.format(DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss.SSS")));
System.out.println("ç¾å›½çº½çº¦æ­¤æ—¶çš„æ—¶é—´ å’Œæ—¶åŒº: " + dateTime);
```

