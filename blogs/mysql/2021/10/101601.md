---
title: Linuxä¸‹å®‰è£…MySQL5.x
date: 2021-10-16
sidebar: auto
categories:
 - mysql
tags:
 - mysql
---

## Linuxä¸‹å®‰è£…MySql5.xæ­¥éª¤âœ¨

```shell
# wget http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm
# æˆ–
wget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm

rpm -ivh mysql-community-release-el7-5.noarch.rpm
# yum install mysql-community-server
# service mysqld restart
# mysql -uroot
> SET PASSWORD FOR root@localhost = password('å¯†ç '); # ä¸Šå¼•å·å¤åˆ¶åä»æ˜¯ä¸­æ–‡

# mysq5ç‰ˆæœ¬è®¾ç½®è¿œç¨‹è®¿é—®mysqlï¼Œæ‰€æœ‰æ“ä½œã€ä»¥rootç”¨æˆ·ã€æ‰€æœ‰ipæ¥æº
> grant all privileges on *.* to 'w2personnel'@'%' identified by 'w2personnelsys';
> flush privileges;

# æŸ¥çœ‹æœåŠ¡æ˜¯å¦å¯åŠ¨ï¼š
> service mysqld status
```

## å¸¸ç”¨å‘½ä»¤ğŸ§¨

```shell
#è®¾ç½®å®‰å…¨é€‰é¡¹ï¼š
mysql_secure_installation

#å…³é—­MySQL
systemctl stop mysqld 

#é‡å¯MySQL
systemctl restart mysqld 

#æŸ¥çœ‹MySQLè¿è¡ŒçŠ¶æ€
systemctl status mysqld 

#è®¾ç½®å¼€æœºå¯åŠ¨
systemctl enable mysqld 

#å…³é—­å¼€æœºå¯åŠ¨
systemctl disable mysqld

#æŸ¥çœ‹ç‰ˆæœ¬
select version();

# ä¿®æ”¹rootå¯†ç 
ALTER USER 'root'@'localhost' IDENTIFIED BY 'xhxt42';
```

## MySqlå®‰è£…å¸¸è§é”™è¯¯ğŸ’¢
### 1142é”™è¯¯
```shell
1142 - SELECT command denied to user 'root_ssm'@'localhost' for table 'user'

# é”™è¯¯ä¿¡æ¯çš„å­—é¢æ„æ€æ˜¯ï¼šè¡¨â€œuserâ€æ‹’ç»ç”¨æˆ·â€œroot_ssmâ€@â€œlocalhostâ€çš„SELECTå‘½ä»¤ ï¼Œå¾ˆæ˜æ˜¾ç”¨æˆ·æ²¡æœ‰æŸ¥çœ‹userè¡¨çš„æƒé™ï¼Œç”¨ç®¡ç†å‘˜è´¦å·ç»™ä»–æˆæƒå°±è¡Œäº†
```
### è§£å†³æ–¹æ¡ˆ
**1ã€ä½¿ç”¨å®¢æˆ·ç«¯æˆæƒï¼ˆNavicat Premium 12ï¼‰**

```sql
-- ä½¿ç”¨rootç”¨æˆ·ç™»é™†mysql
use mysql;

select * from user where user='user';

-- SQLè¯­å¥whereåé¢çš„æ¡ä»¶å†™è¦æˆæƒçš„é‚£ä¸ªç”¨æˆ·å
```

<p>
<img :src="$withBase('/mysql/mysql1001.png')" alt="mysql1001" class="medium-zoom-image">
</p>
**ä¸Šå›¾æ ‡çº¢çš„åœ°æ–¹çš„å€¼ä¸ºâ€˜Nâ€™ï¼Œè¡¨ç¤ºæ²¡æœ‰æƒé™ï¼Œå°†å…¶æ”¹ä¸ºYå°±è¡Œäº†ã€‚**

**2ã€ä½¿ç”¨Mysqlçš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯**

<p>
<img :src="$withBase('/mysql/mysql1002.png')" alt="mysql1002" class="medium-zoom-image">
</p>

```sql
use mysql;

select * from user where user='w2user';
```



<p>
<img :src="$withBase('/mysql/mysql1003.png')" alt="mysql1003" class="medium-zoom-image">
</p>

**ä¿®æ”¹rootç”¨æˆ·çš„localhostæƒé™**

```sql
update user set Select_priv='Y' where user='middleuser';

-- æ ¹æ®æŸ¥è¯¢ç»“æœä¸­çš„åˆ—åï¼Œä¸€ä¸ªä¸€ä¸ªçš„å†™updateè¯­å¥ä¿®æ”¹ï¼Œ
-- å…¨éƒ¨æ”¹å¥½åå†åˆ·æ–°MySQLçš„ç³»ç»Ÿæƒé™ç›¸å…³è¡¨ï¼š
flush privileges;
```

