(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{592:function(a,t,e){"use strict";e.r(t);var _=e(2),v=Object(_.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"atæ¨¡å¼åŸç†è§£æğŸš¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#atæ¨¡å¼åŸç†è§£æğŸš¨"}},[a._v("#")]),a._v(" ATæ¨¡å¼åŸç†è§£æğŸš¨")]),a._v(" "),e("p",[e("a",{attrs:{href:"https://seata.io/zh-cn/docs/overview/what-is-seata.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("å®˜æ–¹æ–‡æ¡£å‚è€ƒ"),e("OutboundLink")],1)]),a._v(" "),e("h2",{attrs:{id:"tcç›¸å…³çš„ä¸‰å¼ è¡¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tcç›¸å…³çš„ä¸‰å¼ è¡¨"}},[a._v("#")]),a._v(" TCç›¸å…³çš„ä¸‰å¼ è¡¨")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("global_table")]),a._v("ï¼šå…¨å±€äº‹åŠ¡è¡¨ï¼Œæ¯å½“æœ‰ä¸€ä¸ªå…¨å±€äº‹åŠ¡å‘èµ·åï¼Œå°±ä¼šåœ¨è¯¥è¡¨ä¸­è®°å½•å…¨å±€äº‹åŠ¡çš„ID")]),a._v(" "),e("li",[e("code",[a._v("branch_table")]),a._v("ï¼šåˆ†æ”¯äº‹åŠ¡è¡¨ï¼Œè®°å½•æ¯ä¸€ä¸ªåˆ†æ”¯äº‹åŠ¡çš„IDï¼Œåˆ†æ”¯äº‹åŠ¡æ“ä½œçš„å“ªä¸ªæ•°æ®åº“ç­‰ä¿¡æ¯")]),a._v(" "),e("li",[e("code",[a._v("lock_table")]),a._v("ï¼šå…¨å±€é”")])]),a._v(" "),e("h3",{attrs:{id:"ä¸¤é˜¶æ®µæäº¤åè®®çš„æ¼”å˜"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸¤é˜¶æ®µæäº¤åè®®çš„æ¼”å˜"}},[a._v("#")]),a._v(" ä¸¤é˜¶æ®µæäº¤åè®®çš„æ¼”å˜ï¼š")]),a._v(" "),e("p",[e("strong",[a._v("ä¸€é˜¶æ®µ")]),a._v("ï¼š")]),a._v(" "),e("p",[a._v("ä¸šåŠ¡æ•°æ®å’Œå›æ»šæ—¥å¿—è®°å½•åœ¨åŒä¸€ä¸ªæœ¬åœ°äº‹åŠ¡ä¸­æäº¤ï¼Œé‡Šæ”¾æœ¬åœ°é”å’Œè¿æ¥èµ„æºã€‚")]),a._v(" "),e("p",[e("strong",[a._v("äºŒé˜¶æ®µï¼š")])]),a._v(" "),e("p",[a._v("æäº¤å¼‚æ­¥åŒ–ï¼Œéå¸¸å¿«é€Ÿåœ°å®Œæˆã€‚")]),a._v(" "),e("p",[a._v("å›æ»šé€šè¿‡ä¸€é˜¶æ®µçš„å›æ»šæ—¥å¿—è¿›è¡Œåå‘è¡¥å¿ã€‚")]),a._v(" "),e("h2",{attrs:{id:"ä¸€é˜¶æ®µåŠ è½½"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€é˜¶æ®µåŠ è½½"}},[a._v("#")]),a._v(" ä¸€é˜¶æ®µåŠ è½½")]),a._v(" "),e("ol",[e("li",[e("code",[a._v("TMï¼šseata-order.create()")]),a._v("æ–¹æ³•æ‰§è¡Œæ—¶ï¼Œç”±äºè¯¥æ–¹æ³•å…·æœ‰"),e("code",[a._v("@GlobalTranscational")]),a._v("æ ‡å¿—ï¼Œè¯¥TMä¼šå‘TCå‘èµ·å…¨å±€äº‹åŠ¡ï¼Œç”ŸæˆXIDï¼ˆå…¨å±€é”ï¼‰")]),a._v(" "),e("li",[e("code",[a._v("RMï¼šStorageService.deduct()")]),a._v("ï¼šå†™è¡¨ï¼ŒUNDO_LOGè®°å½•å›æ»šæ—¥å¿—ï¼ˆBranch IDï¼‰ï¼Œé€šçŸ¥TCæ“ä½œç»“æœ")]),a._v(" "),e("li",[e("code",[a._v("RMï¼šAccountService.deduct()")]),a._v("ï¼šå†™è¡¨ï¼ŒUNDO_LOGè®°å½•å›æ»šæ—¥å¿—ï¼ˆBranch IDï¼‰ï¼Œé€šçŸ¥TCæ“ä½œç»“æœ")]),a._v(" "),e("li",[e("code",[a._v("RMï¼šOrderService.create()")]),a._v("ï¼šå†™è¡¨ï¼ŒUNDO_LOGè®°å½•å›æ»šæ—¥å¿—ï¼ˆBranch IDï¼‰ï¼Œé€šçŸ¥TCæ“ä½œç»“æœ")])]),a._v(" "),e("p",[a._v("åœ¨ä¸€é˜¶æ®µï¼Œ"),e("code",[a._v("Seata")]),a._v("ä¼šæ‹¦æˆª"),e("code",[a._v("ä¸šåŠ¡SQL")]),a._v(",é¦–å…ˆè§£æSQLè¯­ä¹‰ï¼Œæ‰¾åˆ° "),e("code",[a._v("ä¸šåŠ¡SQL")]),a._v(" è¦æ›´æ–°çš„ä¸šåŠ¡æ•°æ®ï¼Œåœ¨ä¸šåŠ¡æ•°æ®è¢«æ›´æ–°å‰ï¼Œå°†å…¶ä¿å­˜æˆ "),e("code",[a._v("before image")]),a._v(" ,ç„¶å æ‰§è¡Œ "),e("code",[a._v("ä¸šåŠ¡SQL")]),a._v(" æ›´æ–°ä¸šåŠ¡æ•°æ®ï¼Œåœ¨ä¸šåŠ¡æ•°æ®æ›´æ–°ä¹‹åå°†å…¶ä¿å­˜æˆ "),e("code",[a._v("after image")]),a._v("ï¼Œæœ€åç”Ÿæˆè¡Œé”ã€‚ä»¥ä¸Šæ“ä½œå…¨éƒ¨åœ¨ä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡å†…å®Œæˆï¼Œè¿™æ ·ä¿è¯äº†ä¸€é˜¶æ®µæ“ä½œçš„åŸå­æ€§ã€‚")]),a._v(" "),e("p",[e("img",{staticClass:"medium-zoom-image",attrs:{src:a.$withBase("/SpringCloud/seata22.png"),alt:"seata22"}})]),a._v(" "),e("h2",{attrs:{id:"äºŒé˜¶æ®µæäº¤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#äºŒé˜¶æ®µæäº¤"}},[a._v("#")]),a._v(" äºŒé˜¶æ®µæäº¤")]),a._v(" "),e("h3",{attrs:{id:"æ­£å¸¸"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ­£å¸¸"}},[a._v("#")]),a._v(" æ­£å¸¸ï¼š")]),a._v(" "),e("p",[a._v("äºŒé˜¶æ®µå¦‚æ˜¯é¡ºåˆ©æäº¤çš„è¯ï¼Œå› ä¸º "),e("code",[a._v("ä¸šåŠ¡SQL")]),a._v(" åœ¨ä¸€é˜¶æ®µå·²ç»æäº¤è‡³æ•°æ®åº“ï¼Œæ‰€ä»¥"),e("code",[a._v("Seata")]),a._v("æ¡†æ¶åªéœ€å°†ä¸€é˜¶æ®µä¿å­˜çš„å¿«ç…§æ•°æ®å’Œè¡Œé”åˆ æ‰ï¼Œå®Œæˆæ•°æ®æ¸…ç†å³å¯ã€‚")]),a._v(" "),e("p",[e("img",{staticClass:"medium-zoom-image",attrs:{src:a.$withBase("/SpringCloud/seata23.png"),alt:"seata23"}})]),a._v(" "),e("h3",{attrs:{id:"å¼‚å¸¸"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚å¸¸"}},[a._v("#")]),a._v(" å¼‚å¸¸ï¼š")]),a._v(" "),e("p",[a._v("äºŒé˜¶æ®µå¦‚æœæ˜¯å›æ»šçš„è¯ï¼Œ"),e("code",[a._v("Seata")]),a._v(" å°±éœ€è¦å›æ»šä¸€é˜¶æ®µå·²ç»æ‰§è¡Œçš„ "),e("code",[a._v("ä¸šåŠ¡SQL")]),a._v(" ï¼Œè¿˜åŸä¸šåŠ¡æ•°æ®ã€‚")]),a._v(" "),e("p",[a._v("å›æ»šæ–¹å¼ä¾¿æ˜¯ç”¨ "),e("code",[a._v("before image")]),a._v(" è¿˜åŸä¸šåŠ¡æ•°æ®;ä½†åœ¨è¿˜åŸå‰è¦é¦–å…ˆè¦æ ¡éªŒè„å†™ï¼Œå¯¹æ¯” "),e("code",[a._v("æ•°æ®åº“å½“å‰ä¸šåŠ¡æ•°æ®")]),a._v(" å’Œ "),e("code",[a._v("after image")])]),a._v(" "),e("p",[a._v("å¦‚æœä¸¤ä»½æ•°æ®å®Œå…¨ä¸€è‡´å°±è¯´æ˜æ²¡æœ‰è„å†™ï¼Œå¯ä»¥è¿˜åŸä¸šåŠ¡æ•°æ®ï¼Œå¦‚æœä¸ä¸€è‡´å°±è¯´æ˜æœ‰è„å†™ï¼Œå‡ºç°è„å†™å°±éœ€è¦è½¬äººå·¥å¤„ç†ã€‚")]),a._v(" "),e("p",[e("img",{staticClass:"medium-zoom-image",attrs:{src:a.$withBase("/SpringCloud/seata24.png"),alt:"seata24"}})]),a._v(" "),e("h2",{attrs:{id:"atä¼˜åŠ¿"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#atä¼˜åŠ¿"}},[a._v("#")]),a._v(" ATä¼˜åŠ¿")]),a._v(" "),e("p",[a._v("AT æ¨¡å¼çš„ä¸€é˜¶æ®µã€äºŒé˜¶æ®µæäº¤å’Œå›æ»šå‡äº¤ç»™äº† "),e("strong",[a._v("Seata")]),a._v(" æ¡†æ¶æ¥ç”Ÿæˆï¼Œç”¨æˆ·åªéœ€ä¸“æ³¨ç¼–å†™ "),e("strong",[a._v("ä¸šåŠ¡ SQL")]),a._v("ï¼Œè½»æ¾æ¥å…¥åˆ†å¸ƒå¼äº‹åŠ¡ï¼ŒAT æ¨¡å¼æ˜¯ä¸€ç§å¯¹ä¸šåŠ¡æ— ä»»ä½•ä¾µå…¥çš„åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆã€‚")])])}),[],!1,null,null,null);t.default=v.exports}}]);