(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{580:function(t,s,a){"use strict";a.r(s);var o=a(2),_=Object(o.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"nacos实现灰度配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nacos实现灰度配置"}},[t._v("#")]),t._v(" Nacos实现灰度配置")]),t._v(" "),a("h3",{attrs:{id:"说明💨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明💨"}},[t._v("#")]),t._v(" 说明💨")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("在生产环境中，如果涉及到配置的更新，仅仅测试本地和测试环境的话，很难保证生产环境上不会出错，这时候就需要将配置变更到生产环境中进行测试。")]),t._v(" "),a("p",[t._v("这个时候就可以采用"),a("strong",[t._v("灰度配置")]),t._v("：只针对特定的IP服务做变更，一旦这些配置没问题，就可以直接发布到正式环境上，使得服务平稳的运行，不至于整个集群瘫痪。")])]),a("h3",{attrs:{id:"nacos灰度配置🕳"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nacos灰度配置🕳"}},[t._v("#")]),t._v(" Nacos灰度配置🕳")]),t._v(" "),a("p",[t._v("在Nacos1.1.0起配置已经支持灰度配置，在配置编辑中，勾选"),a("strong",[t._v("Beta发布")]),t._v("，在文本框中输入需要下发服务的"),a("strong",[t._v("IP")]),t._v("地址，多个用"),a("strong",[t._v("英文")]),t._v("逗号分隔。")]),t._v(" "),a("p",[a("img",{staticClass:"medium-zoom-image",attrs:{src:t.$withBase("/SpringCloud/nacos30.png"),alt:"nacos_30"}})]),t._v(" "),a("p",[a("img",{staticClass:"medium-zoom-image",attrs:{src:t.$withBase("/SpringCloud/nacos31.png"),alt:"nacos_31"}})]),t._v(" "),a("p",[a("img",{staticClass:"medium-zoom-image",attrs:{src:t.$withBase("/SpringCloud/nacos32.png"),alt:"nacos_32"}})]),t._v(" "),a("p",[t._v("点击"),a("strong",[t._v("发布Beta")]),t._v("则会创建一个灰度配置，如下：")]),t._v(" "),a("p",[a("img",{staticClass:"medium-zoom-image",attrs:{src:t.$withBase("/SpringCloud/nacos33.png"),alt:"nacos_33"}})]),t._v(" "),a("p",[t._v("从图中可以看到 "),a("code",[t._v("application-dev.yml")]),t._v(" 出现了两个版本的配置，如下：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("正式版")]),t._v("：这个是针对除了Beta版中指定的IP服务生效")]),t._v(" "),a("li",[a("strong",[t._v("Beta版")]),t._v("：灰度配置，只对特定的IP服务生效")])]),t._v(" "),a("p",[t._v("底部有两个按钮：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("停止Beta")]),t._v("：直接删除灰度配置")]),t._v(" "),a("li",[a("strong",[t._v("发布")]),t._v("：将灰度配置发布到正式版，将会覆盖掉正式的配置")])]),t._v(" "),a("p",[t._v("如果经过线上的测试，证明你的灰度配置没问题，则可以直接点击发布，覆盖掉正式配置，一键生效将作用于整个集群。")])])}),[],!1,null,null,null);s.default=_.exports}}]);